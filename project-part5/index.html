<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="https://i.pinimg.com/564x/7b/80/e3/7b80e31e8574a8800e09c0b9e3f0028b.jpg" type="image/x-icon" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
    <title>Poject Gabut part IV</title>
  </head>
  <body class="bg-dark">
    <section id="page-gabut">
      <div id="project-3-title" class="container">
        <div class="text-center" style="color: #fff">
          <h3>Project-part5</h3>
          <h4>Integrasi Api</h4>
          <p id="currentTime"></p>
        </div>
      </div>
      <!-- Bawaan project -->
      <section>
        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center">
            <li class="page-item">
              <a class="page-link" href="../project-part4/" tabindex="-1">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" href="../">1</a></li>
            <li class="page-item"><a class="page-link" href="../project-part2/">2</a></li>
            <li class="page-item"><a class="page-link" href="../project-part3/">3</a></li>
            <li class="page-item"><a class="page-link" href="../project-part4/">4</a></li>
            <li class="page-item active">
              <span class="page-link">
                5
                <span class="sr-only"></span>
              </span>
            </li>
  
            <li class="page-item disabled">
              <a class="page-link" href="#">Next</a>
            </li>
          </ul>
        </nav>
      </section>
    </section>

    <style>
    #reslout{
      font-size: 2em;
      font-weight: 800;
      text-align: center;
      background-color: #fff;
    }
    #type {
      background-color: rgb(10, 6, 66);
      font-size: 24px;
      font-weight: 600;
      color: white;
      padding: 8px 8px;
      display: none;
    }

    #scree{
        background-image: url("https://img.freepik.com/free-vector/smoke-flying-up-sparks-fire-particles_107791-1670.jpg?w=826&t=st=1705755902~exp=1705756502~hmac=1a7928463225ace99f3b01253152573b0094cd260754ebb089f3d193c350984b");
    }
    </style>
   <div class="container text-center">
    <div class="d-flex justify-content-center">
        <button onclick="IntegrasiApi()" class="btn btn-dark">‚ù§</button>
        <a download id="screenshoot" class="btn btn-dark">üì∑</a>
    </div>
    <div id="scree">
        <div id="reslout"></div>
        <div id="type" class="p-2"></div>
    </div>
   </div>

    <script>
        async function IntegrasiApi(){
            const reslout = document.getElementById("reslout")
            const type = document.getElementById("type")
            const srcee = document.getElementById("scree")
            const screenshoot = document.getElementById("screenshoot")

            // Api Call
            let base = "https://www.boredapi.com/api/activity";
            const req = await fetch(base)
            const items = await req.json()

            // Api Res
            reslout.textContent = items.activity
            type.textContent = `# ${items.type}`
            type.style.display = "block"

            let count = 0;
            // Api Scrensoot
            screenshoot.addEventListener("click", () => {
                count && location.reload()
                html2canvas(srcee).then((callback) => {
                    screenshoot.setAttribute("href", callback.toDataURL("image/png"));
                }).catch((err) => {
                    console.log(err)
                });
                screenshoot.textContent = "‚¨á"
                count = 1
            })
        }
    </script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>
